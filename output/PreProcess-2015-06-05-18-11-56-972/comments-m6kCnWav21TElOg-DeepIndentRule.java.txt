{{{ deepindentrule deep indent rule constructor }}} {{{ apply no unmatched parens on prev line try prev prev line if present there's an unmatched open parenthesis we want to align according to its position recalculate column when using tabs instead of spaces there's an unmatched closed parenthesis find the matching parenthesis and start looking from there again avoid falling back to the prev prev line in this case }}} {{{ getindent get indent }}} {{{ parens /* ignore comments and literals */ /* do nothing */ }}} 
{{{ imports }}} {{{ getexpandoninput get expand on input }}} {{{ setexpandoninput set expand on input }}} {{{ expandabbrev expand abbrev {{{ figure out some minor things }}} we reuse the 'pp' vector to save time {{{ handle abbrevs of the form abbrev#pos1#pos2#pos3# positional will be inserted where $1 $2 $3 occurs in the expansion the first element of pp is the abbrev itself }}} {{{ handle ordinary abbrevs }}} {{{ maybe show add abbrev dialog }}} {{{ insert the expansion }}} }}} {{{ getglobalabbrevs get global abbrevs }}} {{{ setglobalabbrevs set global abbrevs }}} {{{ getmodeabbrevs get mode abbrevs }}} {{{ setmodeabbrevs set mode abbrevs }}} {{{ addglobalabbrev add global abbrev }}} {{{ addmodeabbrev add mode abbrev }}} {{{ save }}} {{{ members {{{ instance variables }}} {{{ load only load global abbrevs if user abbrevs could not be loaded }}} {{{ countnewlines count newlines }}} {{{ expandabbrev expand abbrev try mode specific abbrevs first }}} {{{ loadabbrevs load abbrevs }}} {{{ saveabbrevs save abbrevs write global abbrevs write mode abbrevs }}} {{{ saveabbrevs save abbrevs }}} }}} {{{ expansion number of positional in abbreviation expansion {{{ expansion constructor {{{ handle backslash }}} {{{ handle $ $n is 1 indexed but vector contents is zero indexed $key will be $key for example $ at end is literal }}} }}} }}} 
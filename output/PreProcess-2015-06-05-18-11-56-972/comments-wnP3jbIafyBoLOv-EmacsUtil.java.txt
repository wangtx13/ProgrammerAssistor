if we're at the end of line ignoring any trailing white space then kill the newline too we're at the end of the line join this line and the next line but do it with a delete not with textarea text area joinlines join lines to emulate emacs better simple delete to end of line textarea text area deletetoendofline delete to end of line when called from within a macro the last action will be that macro but if the last action count is greater than 1 then it's a repeat convert any windows style separators to unix ones since backslashes are special characters in properties files backslash is also special in regular expressions since in theory the separator could be *anything* we check explicitly for backslash here if there's a selection use it instead the special register '$' is the clipboard save the text in the history too 
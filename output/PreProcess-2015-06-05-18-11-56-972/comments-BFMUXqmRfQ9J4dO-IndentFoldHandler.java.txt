the width of leading whitespace in the given segment if it contains non whitespace characters or 1 otherwise {{{ getfoldlevel get fold level look for first non whitespace line starting at lineindex line index non whitespace found on line all lines from lineindex line index are whitespace only use fold level of previous line }}} {{{ getprecedingfoldlevels get preceding fold levels find previous non whitespace only line }}} 
process the command line options print some helpful messages for cases ignore all options use a previously created pipe build a new pipe convert the target into a numeric index into a labelalphabet label alphabet if the label field is not used adding this pipe will cause alphabets don't match exceptions tokenize the input first compile the tokenization pattern we do not want to record bigrams across punctuation so we need to keep non word tokens otherwise try to compile the regular expression pattern replacements add the tokenizer normalize the input as necessary remove non word tokens but record the fact that they were there stopword removal the user specified a new list don't include default list the user did not specify a new list so use the default built in english list possibly adding extra words convert tokens to numeric indices into the alphabet output is feature sequences with bigram features output is unigram feature sequences output is feature vectors no sequence information create the instance list and open the input read instances from the save instances to output if we are reusing a pipe from an instance list created earlier we may have extended the label or feature alphabets to maintain compatibility we now save that original instance list back to disk with the new alphabet 
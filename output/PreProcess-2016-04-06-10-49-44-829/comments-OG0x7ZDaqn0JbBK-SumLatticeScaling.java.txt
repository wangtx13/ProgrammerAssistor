ip == input position op == output position i == state index indexed by ip i indexed by ip i indexed by ip i j saved only if savexis save xis is ensure that instances cannot easily be created by a zero arg constructor you may pass for output meaning that the lattice is not constrained to match the output you may pass for output meaning that the lattice is not constrained to match the output initialize some structures forward pass re scale alphas to so that \sum_i \alpha ip i = 1 calculate total weight of lattice this is the normalizer backward pass re scale betas so that they are normalized 
process the command line options classdirs dirs = commandoption command option process text2vectors text2 vectors args print some helpful messages for cases remove common prefix from all the input directories build a new pipe create a list of pipes that will be added to a serialpipes serial pipes later convert the target into a numeric index into a labelalphabet label alphabet the data field is currently a filename save it as source set data to the file's contents data is now a optionally save the text to source not recommended if memory is scarce allow the user to specify an arbitrary pipe that operates on strings remove all content before the first empty line useful for email and usenet news posts remove html h t m l tags suitable for sgml s g m l and xml tokenize the input first compile the tokenization pattern we do not want to record bigrams across punctuation so we need to keep non word tokens otherwise try to compile the regular expression pattern add the tokenizer allow user to specify an arbitrary pipe that operates on tokensequence token sequence remove non word tokens but record the fact that they were there stopword removal the user specified a new list don't include default list the user did not specify a new list so use the default built in english list possibly adding extra words gramsizes gram sizes is an with default value 1 check if we have a non default value so far we have a sequence of token that contain values look these up in an alphabet and store ids features instead of strings for many applications we do not need to preserve the sequence of features only the number of times times a feature occurs allow users to specify an arbitrary pipe that operates on feature vectors write vector *rewrite* vector used as source of pipe in case we changed the alphabet ! 
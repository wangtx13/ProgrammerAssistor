these next two dictionaries may be the same xxx when should these be frozen? this wipes away any previous counts we had it also potentially allocates an esimator of a new size if the number of states has increased note that this is a non inner so we have access to all of featuretransducer's feature transducer's instance variables note that you cannot add transitions to a state once it is created this constructor places the transtion into this input2transitions temporarily here for debugging if index is >= 1 we are going through all featurestate feature state transitions by index if index is 2 we are following the chain of featuretransition feature transition nextwithsameinput next with same input and transition is already initialized to the first transition if index is 3 we are following the chain of featuretransition feature transition nextwithsameinput next with same input and the next transition should be found by following the chain iterate through all transitions independent of input out featuretransitioniterator feature transition iterator over all out symboltransitioniterator symbol transition iterator over +input out hasnext has next index + index note this has a natural ordering that is inconsistent with equals this index is set by the caller of this constructor 
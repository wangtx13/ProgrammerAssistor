model's expectations according to entropy reg used to update gradient contains labeled and unlabeled data the model scale entropy values typically entropyreggamma entropy reg gamma * numlabeled num labeled / numunlabeled num unlabeled log probability of all the sequences this is also the entropy due to all the instances updated in computeexpectations compute expectations gradient due to this optimizable updated in getvaluegradient get value gradient initialize the expectations using the model now update the expectations due to each instance for entropy reg udpate the expectations the cached value is not up to date it was calculated for a different set of crf c r f weights cachedgradient cached gradient will soon no longer be stale if this fails then look in computeexpectations compute expectations fill up gradient some get/set that have to be serialization stuff 